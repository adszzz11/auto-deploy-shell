# Rollback Configuration
# 이 파일을 source하여 롤백 시 기본값으로 사용

# 백업 검증 옵션
export ROLLBACK_VERIFY_BACKUP="true"              # 백업 파일 검증 활성화
export ROLLBACK_VERIFY_INTEGRITY="false"          # 백업 무결성 검증 (JAR 구조 확인)
export ROLLBACK_CHECK_DISK_SPACE="true"           # 디스크 공간 확인

# 롤백 실행 옵션
export ROLLBACK_CREATE_FAILED_BACKUP="true"       # 실패한 배포 백업 생성
export ROLLBACK_VERIFY_AFTER_RESTORE="true"       # 복원 후 검증
export ROLLBACK_FIX_PERMISSIONS="true"            # 권한 자동 수정

# 재시작 옵션
export ROLLBACK_RESTART_APP="true"                # 롤백 후 애플리케이션 재시작
export ROLLBACK_APP_MODE="restart"                # 재시작 모드 (start|stop|restart)
export ROLLBACK_RESTART_TIMEOUT="60"              # 재시작 타임아웃 (초)

# 헬스체크 옵션
export ROLLBACK_HEALTH_CHECK="false"              # 롤백 후 헬스체크 실행
export ROLLBACK_HEALTH_CHECK_TIMEOUT="30"         # 헬스체크 타임아웃 (초)
export ROLLBACK_HEALTH_CHECK_RETRIES="3"          # 헬스체크 재시도 횟수

# Nginx 제어 옵션
export ROLLBACK_NGINX_CONTROL="true"              # Nginx 업스트림 제어
export ROLLBACK_NGINX_DOWN_BEFORE="true"          # 롤백 전 Nginx DOWN
export ROLLBACK_NGINX_UP_AFTER="true"             # 롤백 후 Nginx UP

# 로그 옵션
export ROLLBACK_LOG_LEVEL="INFO"
export ROLLBACK_AUDIT_LOG="true"                  # 감사 로그 기록

# 안전 모드 옵션
export ROLLBACK_SAFE_MODE="false"                 # 안전 모드 (추가 검증)
export ROLLBACK_EMERGENCY_MODE="false"            # 응급 모드 (최소 검증)
